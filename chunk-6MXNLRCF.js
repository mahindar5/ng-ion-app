import{c as T,d as j,e as f}from"./chunk-6DHCHIRB.js";import{C as N,J as U,K as B,M as E,P as q,ca as A,h as S,j as b,m as D,n as v,o as L,p as V,q as P,r as W,sa as R,t as F}from"./chunk-QAB2KOB3.js";import{Aa as g,Cb as u,Fa as m,Hb as p,Ib as c,Ja as C,Jb as w,da as l,ea as d,eb as y,fb as r,gb as a,nb as _,qb as M,zb as I}from"./chunk-MJ4XJREV.js";import"./chunk-UWWRSBJN.js";import"./chunk-LHBIE3WG.js";import"./chunk-M7HIEP6N.js";import"./chunk-3VHKZABS.js";import"./chunk-BIEIEMQH.js";import"./chunk-CASY3UTO.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-JR2FMVVP.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import"./chunk-3GJFFWBB.js";var J=(()=>{class s{router;route;loginData={username:"",password:""};constructor(o,e){this.router=o,this.route=e}ngOnInit(){let o=f();j(o,e=>{e&&this.router.navigateByUrl("")})}login(){let o=f();T(o,this.loginData.username,this.loginData.password).then(e=>{let n=e.user;console.log("User logged in:",n);let t=this.route.snapshot.queryParams.returnUrl||"/ai-dashboard";this.router.navigateByUrl(t)}).catch(e=>{let n=e.code,t=e.message;console.error("Login error:",n,t)})}static \u0275fac=function(e){return new(e||s)(m(b),m(S))};static \u0275cmp=C({type:s,selectors:[["app-login"]],decls:15,vars:3,consts:[["loginForm","ngForm"],[1,"ion-padding"],[3,"ngSubmit"],[1,"ion-justify-content-center"],["size-md","6","size-lg","5","size-xs","12",1,"ion-align-self-center"],[1,"ion-text-center"],["label","Username","labelPlacement","stacked","type","text","name","username","required","",3,"ngModelChange","ngModel"],["label","Password","labelPlacement","stacked","type","password","name","password","required","",3,"ngModelChange","ngModel"],["type","submit","expand","full",3,"disabled"]],template:function(e,n){if(e&1){let t=_();r(0,"ion-content",1)(1,"form",2,0),M("ngSubmit",function(){return l(t),d(n.login())}),r(3,"ion-grid")(4,"ion-row",3)(5,"ion-col",4)(6,"div",5)(7,"h3"),u(8,"Login"),a()(),r(9,"ion-item")(10,"ion-input",6),w("ngModelChange",function(i){return l(t),c(n.loginData.username,i)||(n.loginData.username=i),d(i)}),a()(),r(11,"ion-item")(12,"ion-input",7),w("ngModelChange",function(i){return l(t),c(n.loginData.password,i)||(n.loginData.password=i),d(i)}),a()(),r(13,"ion-button",8),u(14,"Login"),a()()()()()()}if(e&2){let t=I(2);g(10),p("ngModel",n.loginData.username),g(2),p("ngModel",n.loginData.password),g(),y("disabled",t.invalid)}},dependencies:[F,P,D,v,W,V,L,B,E,R,q,A,U,N],encapsulation:2})}return s})();export{J as LoginComponent};
