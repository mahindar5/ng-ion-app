import{a as ue,b as de,d as me,e as ge}from"./chunk-PMJ4LIVR.js";import{K as Ke,M as ze,N as Ge,O as Ze,P as Ye,Q as qe,S as Je,T as Qe,V as Xe,W as et,X as tt,Z as nt,a as xe,ea as ot,i as Be,j as je,k as We,ka as rt,m as Ve,n as $e,w as He}from"./chunk-CSTODAPL.js";import{H as fe,a as $,c as ce,f as le,g as I,h as H,y as pe,z as K}from"./chunk-G7HGPG5R.js";import{K as Ee,N as De,P as Se,V as Te,W as ke,X as Oe,Z as Ae,e as se,fa as Ne,g as he,i as be,ia as _e,j as g,ja as Re,k as ve,ka as Pe,l as Ie,la as Ue,pa as Fe,ra as Le,u as Ce,v as ye,w as we,z as Me}from"./chunk-DG4AZ3SZ.js";import{$ as Q,A as B,Aa as u,Ab as L,F as h,Ja as v,P as E,Ra as te,S as b,T as q,Ub as oe,V as m,Wa as ne,Wb as re,Y as J,Ya as W,Z as j,Zb as ie,_ as s,bb as P,c as N,cb as U,db as F,eb as V,ec as ae,f as _,fa as X,fb as c,ga as ee,gb as l,hb as D,ka as R,s as M,z as f,zb as S}from"./chunk-K2KEBQBS.js";import"./chunk-UWWRSBJN.js";import"./chunk-GJA76NSQ.js";import"./chunk-SL7YA7MF.js";import"./chunk-5UTXTVDX.js";import"./chunk-K37BZDXQ.js";import"./chunk-CASY3UTO.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-JR2FMVVP.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{a as A,b as Y}from"./chunk-3GJFFWBB.js";var vt="firebase",It="11.9.0";de(vt,It,"app");var z="Service workers are disabled or not supported by this browser",C=class{serviceWorker;worker;registration;events;constructor(r,e){if(this.serviceWorker=r,!r)this.worker=this.events=this.registration=new N(n=>n.error(new b(5601,!1)));else{let n=null,o=new _;this.worker=new N(d=>(n!==null&&d.next(n),o.subscribe(O=>d.next(O))));let a=()=>{let{controller:d}=r;d!==null&&(n=d,o.next(n))};r.addEventListener("controllerchange",a),a(),this.registration=this.worker.pipe(E(()=>r.getRegistration()));let i=new _;this.events=i.asObservable();let p=d=>{let{data:O}=d;O?.type&&i.next(O)};r.addEventListener("message",p),e?.get(W,null,{optional:!0})?.onDestroy(()=>{r.removeEventListener("controllerchange",a),r.removeEventListener("message",p)})}}postMessage(r,e){return new Promise(n=>{this.worker.pipe(h(1)).subscribe(o=>{o.postMessage(A({action:r},e)),n()})})}postMessageWithOperation(r,e,n){let o=this.waitForOperationCompleted(n),a=this.postMessage(r,e);return Promise.all([a,o]).then(([,i])=>i)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(r){let e;return typeof r=="string"?e=n=>n.type===r:e=n=>r.includes(n.type),this.events.pipe(B(e))}nextEventOfType(r){return this.eventsOfType(r).pipe(h(1))}waitForOperationCompleted(r){return new Promise((e,n)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(B(o=>o.nonce===r),h(1),M(o=>{if(o.result!==void 0)return o.result;throw new Error(o.error)})).subscribe({next:e,error:n})})}get isEnabled(){return!!this.serviceWorker}},Ct=(()=>{class t{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new _;constructor(e){if(this.sw=e,!e.isEnabled){this.messages=f,this.notificationClicks=f,this.subscription=f;return}this.messages=this.sw.eventsOfType("PUSH").pipe(M(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(M(o=>o.data)),this.pushManager=this.sw.registration.pipe(M(o=>o.pushManager));let n=this.pushManager.pipe(E(o=>o.getSubscription()));this.subscription=new N(o=>{let a=n.subscribe(o),i=this.subscriptionChanges.subscribe(o);return()=>{a.unsubscribe(),i.unsubscribe()}})}requestSubscription(e){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(z));let n={userVisibleOnly:!0},o=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),a=new Uint8Array(new ArrayBuffer(o.length));for(let i=0;i<o.length;i++)a[i]=o.charCodeAt(i);return n.applicationServerKey=a,new Promise((i,p)=>{this.pushManager.pipe(E(w=>w.subscribe(n)),h(1)).subscribe({next:w=>{this.subscriptionChanges.next(w),i(w)},error:p})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(z));let e=n=>{if(n===null)throw new b(5602,!1);return n.unsubscribe().then(o=>{if(!o)throw new b(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((n,o)=>{this.subscription.pipe(h(1),E(e)).subscribe({next:n,error:o})})}decodeBase64(e){return atob(e)}static \u0275fac=function(n){return new(n||t)(j(C))};static \u0275prov=m({token:t,factory:t.\u0275fac})}return t})(),yt=(()=>{class t{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(e){if(this.sw=e,!e.isEnabled){this.versionUpdates=f,this.unrecoverable=f;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(z));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let e=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new b(5601,!1));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static \u0275fac=function(n){return new(n||t)(j(C))};static \u0275prov=m({token:t,factory:t.\u0275fac})}return t})();var at=new J("");function wt(){let t=s(T);if(!("serviceWorker"in navigator&&t.enabled!==!1))return;let r=s(at),e=s(te),n=s(W);e.runOutsideAngular(()=>{let o=navigator.serviceWorker,a=()=>o.controller?.postMessage({action:"INITIALIZE"});o.addEventListener("controllerchange",a),n.onDestroy(()=>{o.removeEventListener("controllerchange",a)})}),e.runOutsideAngular(()=>{let o,{registrationStrategy:a}=t;if(typeof a=="function")o=new Promise(i=>a().subscribe(()=>i()));else{let[i,...p]=(a||"registerWhenStable:30000").split(":");switch(i){case"registerImmediately":o=Promise.resolve();break;case"registerWithDelay":o=it(+p[0]||0);break;case"registerWhenStable":o=Promise.race([n.whenStable(),it(+p[0])]);break;default:throw new b(5600,!1)}}o.then(()=>{n.destroyed||navigator.serviceWorker.register(r,{scope:t.scope}).catch(i=>console.error(q(5604,!1)))})})}function it(t){return new Promise(r=>setTimeout(r,t))}function Mt(t,r){return new C(t.enabled!==!1?navigator.serviceWorker:void 0,r)}var T=class{enabled;scope;registrationStrategy};function st(t,r={}){return Q([Ct,yt,{provide:at,useValue:t},{provide:T,useValue:r},{provide:C,useFactory:Mt,deps:[T,X]},ne(wt)])}var y=(()=>{class t{router=s(g);canActivate(e,n){return new Promise((o,a)=>{let i=ge();me(i,p=>{p?o(!0):(console.log("User is not logged in"),this.router.navigate(["/login"],{queryParams:{returnUrl:n.url}}),o(!1))})})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ct={namespace:"@mahindar5/ng-common-lib",version:"1.2.21",commit:"848756294ebc29c725a11b63a219879432d45a84",branch:"main",lastCommitMessage:"Merge branch 'main' of https://github.com/mahindar5/ng-mat-app",lastCommitAuthor:"mahindar5",lastCommitDate:"2025-08-05 19:04:48 -0700",buildNumber:"1754445919750",buildId:"build-1754445919750",buildUrl:"",buildEnvironment:"development",buildHost:"pkrvmjbmru5nbw0",buildTarget:"development",nodeVersion:"v22.17.1",npmVersion:"10.9.2",os:"linux",arch:"x64",buildDate:"8/6/2025",buildTime:"2:05:19 AM",timestamp:"2025-08-06T02:05:19.717Z"};var x=class{async save(r){let e=await this.getStorageKey();await H.setItem(e,r,void 0,le,!0)}async load(){let r=await this.getStorageKey();return await H.getItem(r,!0).then(e=>e||"ai-agent").catch(()=>"ai-agent")}async getStorageKey(){return`${(await I.getItem("globalConfig"))?.NAMESPACE||"default-app"}_lastRoute`}},lt=async()=>{let t=s(g),e=await $(x).load();return t.navigate([e]),!1},pt=(()=>{class t{router=s(g);routeStorage=$(x);constructor(){this.router.events.subscribe(async e=>{if(e instanceof he){let n=e.urlAfterRedirects.split("/")[1];n&&n!=="login"&&await this.routeStorage.save(n)}})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ut=[{path:"",canActivate:[lt],component:oe({})(class{}),pathMatch:"full"},{path:"login",loadComponent:()=>import("./chunk-3ORMHK4U.js").then(t=>t.LoginComponent)},{path:"ai-chat",canActivate:[y],loadComponent:()=>import("./chunk-XYO7GVFZ.js").then(t=>t.AiChatComponent)},{path:"wealth-simple",canActivate:[y],loadComponent:()=>import("./chunk-MPEI6D6A.js").then(t=>t.WealthSimplePage)},{path:"spotify",canActivate:[y],loadComponent:()=>import("./chunk-PJXZRYVK.js").then(t=>t.SpotifyPage)},{path:"ai-agent",canActivate:[y],loadComponent:()=>import("./chunk-XBIWCR6A.js").then(t=>t.AiAgentComponent)},{path:"settings",canActivate:[y],loadComponent:()=>import("./chunk-RLJ3XBQI.js").then(t=>t.SettingsComponent)},{path:"token-callback",loadComponent:()=>import("./chunk-RFQUX4GS.js").then(t=>t.TokenCallbackComponent)}],Et={namespace:"@mahindar5/ng-common-ion-lib",version:"1.2.27",commit:"848756294ebc29c725a11b63a219879432d45a84",branch:"main",lastCommitMessage:"Merge branch 'main' of https://github.com/mahindar5/ng-mat-app",lastCommitAuthor:"mahindar5",lastCommitDate:"2025-08-05 19:04:48 -0700",buildNumber:"1754445969109",buildId:"build-1754445969109",buildUrl:"",buildEnvironment:"development",buildHost:"pkrvmjbmru5nbw0",buildTarget:"development",nodeVersion:"v22.17.1",npmVersion:"10.9.2",os:"linux",arch:"x64",buildDate:"8/6/2025",buildTime:"2:06:09 AM",timestamp:"2025-08-06T02:06:09.090Z"};ue(pe);async function dt(t,r){r?.BUILD_INFO&&(r.BUILD_INFO=Y(A({},r.BUILD_INFO),{commonLibBUILD_INFO:fe,matBUILD_INFO:Et,ngcommonLibBUILD_INFO:ct})),await I.setItem("globalConfig",r,void 0,void 0),window.globalConfig=r;let e=[re(),Ie(t),st("ngsw-worker.js",{enabled:!ae(),registrationStrategy:"registerWhenStable:30000"}),{provide:be,useClass:ye},Ue({useSetInputAPI:!0,innerHTMLTemplatesEnabled:!0})];return r?.excludeAIService||e.push({provide:K,useClass:K}),{providers:e}}async function mt(t){return await dt(ut,t)}var rn=await dt(ut,{});function Dt(t,r){if(t&1&&(c(0,"div")(1,"small"),S(2),l()()),t&2){let e=r.$implicit;u(2),L(e)}}var G=class{formatDate(r){let e=new Date(r),n=o=>o.toString().padStart(2,"0");return`${e.getFullYear()}${n(e.getMonth()+1)}${n(e.getDate())} ${n(e.getHours())}:${n(e.getMinutes())}`}formatBuildInfo(r){return`${r.namespace}@${r.version}: ${this.formatDate(r.timestamp)}`.replace("@mahindar5/","").replaceAll(","," ")}formatBuildInfos(r){return r?.BUILD_INFO?Object.values(r.BUILD_INFO).map(e=>this.formatBuildInfo(e)):[]}},gt=(()=>{class t{buildInfoService=new G;globalConfig=R(null);formattedBuildInfos=ie(()=>{let e=this.globalConfig();return e?this.buildInfoService.formatBuildInfos(e):[]});constructor(){this.loadGlobalConfig()}async loadGlobalConfig(){let e=await I.getItem("globalConfig")||{BUILD_INFO:{}};this.globalConfig.set(e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=v({type:t,selectors:[["build-info"]],decls:3,vars:0,consts:[[1,"build-info"]],template:function(n,o){n&1&&(c(0,"div",0),U(1,Dt,3,1,"div",null,P),l()),n&2&&(u(),F(o.formattedBuildInfos()))},styles:[".build-info[_ngcontent-%COMP%]{padding:8px 16px;text-align:right;font-size:10px}.build-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:4px}.build-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{margin-bottom:0}"],changeDetection:0})}return t})();function St(t,r){if(t&1&&(c(0,"ion-menu-toggle",2)(1,"ion-item",3),D(2,"ion-icon",4),c(3,"ion-label"),S(4),l()()()),t&2){let e=r.$implicit;u(),V("routerLink",e.route),u(),V("name",e.iconName),u(2),L(e.displayName)}}var Tt={login:"log-in","ai-chat":"chatbubble","ai-agent":"home",settings:"settings"},ft=(()=>{class t{router=s(g);menu=R([]);ngOnInit(){this.menu.set(this.generateMenuFromRoutes())}generateMenuFromRoutes(){return this.router.config.filter(n=>n.path!==""&&!n.redirectTo&&typeof n.path=="string").map(n=>{let o=n.path.split("-").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" "),a=Tt[n.path]||"chevron_forward";return{displayName:o,iconName:a,route:`/${n.path}`}})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=v({type:t,selectors:[["navigation-menu"]],decls:12,vars:0,consts:[["contentId","main","type","overlay"],[1,"menu-header"],["auto-hide","false"],["routerDirection","root",3,"routerLink"],["slot","start",3,"name"]],template:function(n,o){n&1&&(c(0,"ion-menu",0)(1,"ion-header")(2,"ion-toolbar")(3,"ion-title")(4,"div",1)(5,"div"),S(6,"Menu"),l(),D(7,"build-info"),l()()()(),c(8,"ion-content")(9,"ion-list"),U(10,St,5,3,"ion-menu-toggle",2,P),l()()()),n&2&&(u(10),F(o.menu()))},dependencies:[Oe,ke,gt,Se,Le,Te,Ae,De,Re,Ee,_e,ve],styles:[".menu-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}"]})}return t})();var ht="DarkThemeStorageKey",bt=(()=>{class t{platform=s(Ce);routeTracker=s(pt);toastController=s(Fe);modalCtrl=s(Pe);appPages=[];darkMode=!0;document=s(ee);constructor(){this.initializeApp(),this.setupBackButtonListener(),xe({moon:Je,close:He,logOut:Ze,barChart:Be,chatboxEllipses:Ve,chatbubble:$e,wifi:rt,musicalNotes:Qe,list:Ge,people:Xe,logoReddit:qe,layers:ze,gift:Ke,logoAmazon:Ye,basket:je,bug:We,playCircle:et,refreshCircle:nt,recording:tt,settings:ot})}ngOnInit(){}initializeApp(){this.errorHandlingAndToast(),this.toggleDarkMode(),this.platform.backButton.subscribeWithPriority(999,()=>alert("platform.backButton.subscribeWithPriority"))}async showToast(e){(await this.toastController.create({message:e,duration:3e3,buttons:[{icon:"close",role:"cancel"}]})).present()}errorHandlingAndToast(){console.defaultError=console.error.bind(console),console.errors=[],console.error=(...e)=>{this.showToast(e[1]&&e[1].message||e[0]),console.defaultError.apply(console,e),console.errors.push(Array.from(e))}}toggleDarkMode(){let e=window.matchMedia("(prefers-color-scheme: dark)"),n=localStorage.getItem(ht),o=n==null?e.matches:n==="true";this.initializeDarkPalette(o)}initializeDarkPalette(e){this.darkMode=e,this.darkChange(e)}darkChangeTr(e){this.darkChange(!!e.detail.checked)}darkChange(e){document.documentElement.classList.toggle("ion-palette-dark",e),localStorage.setItem(ht,e)}setupBackButtonListener(){window.addEventListener("popstate",async()=>{let e=await this.modalCtrl.getTop();e&&e.dismiss({dismissed:!0,from:"popstate"})})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=v({type:t,selectors:[["app-root"]],decls:4,vars:0,consts:[["when","(min-width: 4000px)","contentId","main"],["id","main"]],template:function(n,o){n&1&&(c(0,"ion-app")(1,"ion-split-pane",0),D(2,"navigation-menu")(3,"ion-router-outlet",1),l()())},dependencies:[Me,Ne,we,ft],encapsulation:2})}return t})();var Z={namespace:"ng-ion-app",version:"0.0.0",commit:"5a11e96b9cc4c5459086764c70afaa30f86ff4b6",branch:"main",lastCommitMessage:"fix: remove angular.json and package.json from workflow paths for multiple apps",lastCommitAuthor:"mahindar5",lastCommitDate:"2025-08-05 19:18:39 -0700",buildNumber:"1754446756043",buildId:"build-1754446756043",buildUrl:"",buildEnvironment:"development",buildHost:"pkrvmjbmru5nbw0",buildTarget:"development",nodeVersion:"v22.17.1",npmVersion:"10.9.2",os:"linux",arch:"x64",buildDate:"8/6/2025",buildTime:"2:19:16 AM",timestamp:"2025-08-06T02:19:16.022Z"};ce();se(bt,await mt({BUILD_INFO:{myAppBUILD_INFO:Z},NAMESPACE:Z.namespace})).catch(t=>console.error(t));
