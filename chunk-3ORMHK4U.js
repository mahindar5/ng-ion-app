import{c as S,d as b,e as f}from"./chunk-PMJ4LIVR.js";import{C as B,J as E,K as q,M as A,P as R,ca as T,h as D,j as v,m as L,n as V,o as P,p as W,q as F,r as N,sa as j,t as U}from"./chunk-DG4AZ3SZ.js";import{Aa as g,Eb as p,Fa as m,Fb as c,Gb as w,Ja as C,da as l,ea as d,eb as y,fb as r,gb as a,kb as _,nb as M,wb as I,zb as u}from"./chunk-K2KEBQBS.js";import"./chunk-UWWRSBJN.js";import"./chunk-GJA76NSQ.js";import"./chunk-SL7YA7MF.js";import"./chunk-5UTXTVDX.js";import"./chunk-K37BZDXQ.js";import"./chunk-CASY3UTO.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-JR2FMVVP.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import"./chunk-3GJFFWBB.js";var J=(()=>{class s{router;route;loginData={username:"",password:""};constructor(o,e){this.router=o,this.route=e}ngOnInit(){let o=f();b(o,e=>{e&&this.router.navigateByUrl("")})}login(){let o=f();S(o,this.loginData.username,this.loginData.password).then(e=>{let n=e.user;console.log("User logged in:",n);let t=this.route.snapshot.queryParams.returnUrl||"/ai-dashboard";this.router.navigateByUrl(t)}).catch(e=>{let n=e.code,t=e.message;console.error("Login error:",n,t)})}static \u0275fac=function(e){return new(e||s)(m(v),m(D))};static \u0275cmp=C({type:s,selectors:[["app-login"]],decls:15,vars:3,consts:[["loginForm","ngForm"],[1,"ion-padding"],[3,"ngSubmit"],[1,"ion-justify-content-center"],["size-md","6","size-lg","5","size-xs","12",1,"ion-align-self-center"],[1,"ion-text-center"],["label","Username","labelPlacement","stacked","type","text","name","username","required","",3,"ngModelChange","ngModel"],["label","Password","labelPlacement","stacked","type","password","name","password","required","",3,"ngModelChange","ngModel"],["type","submit","expand","full",3,"disabled"]],template:function(e,n){if(e&1){let t=_();r(0,"ion-content",1)(1,"form",2,0),M("ngSubmit",function(){return l(t),d(n.login())}),r(3,"ion-grid")(4,"ion-row",3)(5,"ion-col",4)(6,"div",5)(7,"h3"),u(8,"Login"),a()(),r(9,"ion-item")(10,"ion-input",6),w("ngModelChange",function(i){return l(t),c(n.loginData.username,i)||(n.loginData.username=i),d(i)}),a()(),r(11,"ion-item")(12,"ion-input",7),w("ngModelChange",function(i){return l(t),c(n.loginData.password,i)||(n.loginData.password=i),d(i)}),a()(),r(13,"ion-button",8),u(14,"Login"),a()()()()()()}if(e&2){let t=I(2);g(10),p("ngModel",n.loginData.username),g(2),p("ngModel",n.loginData.password),g(),y("disabled",t.invalid)}},dependencies:[U,F,L,V,N,W,P,q,A,j,R,T,E,B],encapsulation:2})}return s})();export{J as LoginComponent};
