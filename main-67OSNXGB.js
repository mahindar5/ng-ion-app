import{a as me,b as fe,d as ge,e as he}from"./chunk-3DIM6FEL.js";import{J as Ge,L as Ze,M as Ye,N as qe,O as Je,P as Qe,R as Xe,S as et,U as tt,V as nt,W as ot,Y as it,da as rt,h as We,i as Ve,j as $e,ja as st,l as He,m as Ke,v as ze}from"./chunk-LJYLQJYK.js";import{C as G,H as be,a as K,c as pe,f as de,g as C,h as z,y as ue}from"./chunk-OVPQ4WUL.js";import{K as Se,N as Te,P as Oe,V as ke,W as Ne,X as Ae,Z as _e,e as le,fa as Pe,g as ve,i as Ie,ia as Re,j as b,ja as Ue,k as Ce,ka as Fe,l as ye,la as Le,pa as xe,ra as Be,u as we,v as Ee,w as Me,z as De}from"./chunk-G2P7PRAA.js";import{$ as ee,A as B,Aa as d,Cb as S,Db as L,F as v,Ja as I,P as M,Ra as oe,S as m,T as Q,V as f,Wa as ie,Xb as re,Y as X,Ya as W,Z as j,Zb as se,_ as a,ac as ae,bb as R,c as A,cb as U,db as F,eb as V,f as _,fa as te,fb as g,ga as ne,gb as h,hb as D,hc as ce,ib as $,jb as H,ka as P,s as u,z as p}from"./chunk-XQIDMOZH.js";import"./chunk-UWWRSBJN.js";import{a as je}from"./chunk-PE2J6P5Y.js";import"./chunk-LHBIE3WG.js";import"./chunk-M7HIEP6N.js";import"./chunk-3VHKZABS.js";import"./chunk-BIEIEMQH.js";import"./chunk-CASY3UTO.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-JR2FMVVP.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{a as N,b as J}from"./chunk-3GJFFWBB.js";var Ct="firebase",yt="11.10.0";fe(Ct,yt,"app");var Z="Service workers are disabled or not supported by this browser",y=class{serviceWorker;worker;registration;events;constructor(i,e){if(this.serviceWorker=i,!i)this.worker=this.events=this.registration=new A(n=>n.error(new m(5601,!1)));else{let n=null,o=new _;this.worker=new A(c=>(n!==null&&c.next(n),o.subscribe(k=>c.next(k))));let s=()=>{let{controller:c}=i;c!==null&&(n=c,o.next(n))};i.addEventListener("controllerchange",s),s(),this.registration=this.worker.pipe(M(()=>i.getRegistration().then(c=>{if(!c)throw new m(5601,!1);return c})));let r=new _;this.events=r.asObservable();let l=c=>{let{data:k}=c;k?.type&&r.next(k)};i.addEventListener("message",l),e?.get(W,null,{optional:!0})?.onDestroy(()=>{i.removeEventListener("controllerchange",s),i.removeEventListener("message",l)})}}postMessage(i,e){return new Promise(n=>{this.worker.pipe(v(1)).subscribe(o=>{o.postMessage(N({action:i},e)),n()})})}postMessageWithOperation(i,e,n){let o=this.waitForOperationCompleted(n),s=this.postMessage(i,e);return Promise.all([s,o]).then(([,r])=>r)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(i){let e;return typeof i=="string"?e=n=>n.type===i:e=n=>i.includes(n.type),this.events.pipe(B(e))}nextEventOfType(i){return this.eventsOfType(i).pipe(v(1))}waitForOperationCompleted(i){return new Promise((e,n)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(B(o=>o.nonce===i),v(1),u(o=>{if(o.result!==void 0)return o.result;throw new Error(o.error)})).subscribe({next:e,error:n})})}get isEnabled(){return!!this.serviceWorker}},wt=(()=>{class t{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new _;constructor(e){if(this.sw=e,!e.isEnabled){this.messages=p,this.notificationClicks=p,this.notificationCloses=p,this.pushSubscriptionChanges=p,this.subscription=p;return}this.messages=this.sw.eventsOfType("PUSH").pipe(u(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(u(o=>o.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(u(o=>o.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(u(o=>o.data)),this.pushManager=this.sw.registration.pipe(u(o=>o.pushManager));let n=this.pushManager.pipe(M(o=>o.getSubscription()));this.subscription=new A(o=>{let s=n.subscribe(o),r=this.subscriptionChanges.subscribe(o);return()=>{s.unsubscribe(),r.unsubscribe()}})}requestSubscription(e){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Z));let n={userVisibleOnly:!0},o=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(o.length));for(let r=0;r<o.length;r++)s[r]=o.charCodeAt(r);return n.applicationServerKey=s,new Promise((r,l)=>{this.pushManager.pipe(M(E=>E.subscribe(n)),v(1)).subscribe({next:E=>{this.subscriptionChanges.next(E),r(E)},error:l})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Z));let e=n=>{if(n===null)throw new m(5602,!1);return n.unsubscribe().then(o=>{if(!o)throw new m(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((n,o)=>{this.subscription.pipe(v(1),M(e)).subscribe({next:n,error:o})})}decodeBase64(e){return atob(e)}static \u0275fac=function(n){return new(n||t)(j(y))};static \u0275prov=f({token:t,factory:t.\u0275fac})}return t})(),Et=(()=>{class t{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(e){if(this.sw=e,!e.isEnabled){this.versionUpdates=p,this.unrecoverable=p;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Z));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let e=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new m(5601,!1));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static \u0275fac=function(n){return new(n||t)(j(y))};static \u0275prov=f({token:t,factory:t.\u0275fac})}return t})();var ct=new X("");function Mt(){let t=a(T);if(!("serviceWorker"in navigator&&t.enabled!==!1))return;let i=a(ct),e=a(oe),n=a(W);e.runOutsideAngular(()=>{let o=navigator.serviceWorker,s=()=>o.controller?.postMessage({action:"INITIALIZE"});o.addEventListener("controllerchange",s),n.onDestroy(()=>{o.removeEventListener("controllerchange",s)})}),e.runOutsideAngular(()=>{let o,{registrationStrategy:s}=t;if(typeof s=="function")o=new Promise(r=>s().subscribe(()=>r()));else{let[r,...l]=(s||"registerWhenStable:30000").split(":");switch(r){case"registerImmediately":o=Promise.resolve();break;case"registerWithDelay":o=at(+l[0]||0);break;case"registerWhenStable":o=Promise.race([n.whenStable(),at(+l[0])]);break;default:throw new m(5600,!1)}}o.then(()=>{n.destroyed||navigator.serviceWorker.register(i,{scope:t.scope}).catch(r=>console.error(Q(5604,!1)))})})}function at(t){return new Promise(i=>setTimeout(i,t))}function Dt(t,i){return new y(t.enabled!==!1?navigator.serviceWorker:void 0,i)}var T=class{enabled;scope;registrationStrategy};function lt(t,i={}){return ee([wt,Et,{provide:ct,useValue:t},{provide:T,useValue:i},{provide:y,useFactory:Dt,deps:[T,te]},ie(Mt)])}var w=(()=>{class t{router=a(b);canActivate(e,n){return new Promise((o,s)=>{let r=he();ge(r,l=>{l?o(!0):(console.log("User is not logged in"),this.router.navigate(["/login"],{queryParams:{returnUrl:n.url}}),o(!1))})})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pt={namespace:"@mahindar5/ng-common-lib",version:"1.2.35",commit:"b6b060b8b680e3455f1feb95422b2d57f258b742",branch:"main",lastCommitMessage:"Fix comment formatting for ng-ion-app postbuild script in package.json",lastCommitAuthor:"mahindar5",lastCommitDate:"2025-08-09 09:06:40 -0700",buildNumber:"1754755640782",buildId:"build-1754755640782",buildUrl:"",buildEnvironment:"development",buildHost:"pkrvmsl9tci6h6u",buildTarget:"development",nodeVersion:"v22.18.0",npmVersion:"10.9.3",os:"linux",arch:"x64",buildDate:"8/9/2025",buildTime:"4:07:20 PM",timestamp:"2025-08-09T16:07:20.761Z"};var x=class{async save(i){let e=await this.getStorageKey();await z.setItem(e,i,void 0,de,!0)}async load(){let i=await this.getStorageKey();return await z.getItem(i,!0).then(e=>e||"ai-agent").catch(()=>"ai-agent")}async getStorageKey(){return`${(await C.getItem("globalConfig"))?.NAMESPACE||"default-app"}_lastRoute`}},dt=async()=>{let t=a(b),e=await K(x).load();return t.navigate([e]),!1},ut=(()=>{class t{router=a(b);routeStorage=K(x);constructor(){this.router.events.subscribe(async e=>{if(e instanceof ve){let n=e.urlAfterRedirects.split("/")[1];n&&n!=="login"&&await this.routeStorage.save(n)}})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var mt=[{path:"",canActivate:[dt],component:re({})(class{}),pathMatch:"full"},{path:"login",loadComponent:()=>import("./chunk-5XPCOPAC.js").then(t=>t.LoginComponent)},{path:"ai-chat",canActivate:[w],loadComponent:()=>import("./chunk-HIYDKSDR.js").then(t=>t.AiChatComponent)},{path:"wealth-simple",canActivate:[w],loadComponent:()=>import("./chunk-XE4EYBLH.js").then(t=>t.WealthSimplePage)},{path:"spotify",canActivate:[w],loadComponent:()=>import("./chunk-Y4UEHPG7.js").then(t=>t.SpotifyPage)},{path:"ai-agent",canActivate:[w],loadComponent:()=>import("./chunk-WZXXOUPF.js").then(t=>t.AiAgentComponent)},{path:"settings",canActivate:[w],loadComponent:()=>import("./chunk-NWAZAU6N.js").then(t=>t.SettingsComponent)},{path:"token-callback",loadComponent:()=>import("./chunk-D2WUH6O7.js").then(t=>t.TokenCallbackComponent)}],St={namespace:"@mahindar5/ng-common-ion-lib",version:"1.2.43",commit:"b0a175467cbbd25f0e3596cc93dc0c38dc793cd4",branch:"main",lastCommitMessage:"Update repositories list in build-publish-ng-common-ion-lib workflow",lastCommitAuthor:"mahindar5",lastCommitDate:"2025-08-09 09:07:03 -0700",buildNumber:"1754755694260",buildId:"build-1754755694260",buildUrl:"",buildEnvironment:"development",buildHost:"pkrvmsl9tci6h6u",buildTarget:"development",nodeVersion:"v22.18.0",npmVersion:"10.9.3",os:"linux",arch:"x64",buildDate:"8/9/2025",buildTime:"4:08:14 PM",timestamp:"2025-08-09T16:08:14.241Z"};me(ue);async function ft(t,i){i?.BUILD_INFO&&(i.BUILD_INFO=J(N({},i.BUILD_INFO),{commonLibBUILD_INFO:be,matBUILD_INFO:St,ngcommonLibBUILD_INFO:pt})),await C.setItem("globalConfig",i,void 0,void 0),window.globalConfig=i;let e=[se(),ye(t),lt("ngsw-worker.js",{enabled:!ce(),registrationStrategy:"registerWhenStable:30000"}),{provide:Ie,useClass:Ee},Le({useSetInputAPI:!0,innerHTMLTemplatesEnabled:!0})];return i?.excludeAIService||e.push({provide:G,useClass:G}),{providers:e}}async function gt(t){return await ft(mt,t)}var an=await ft(mt,{});function Tt(t,i){if(t&1&&($(0,"div")(1,"small"),S(2),H()()),t&2){let e=i.$implicit;d(2),L(e)}}var Y=class{formatDate(i){let e=new Date(i),n=o=>o.toString().padStart(2,"0");return`${e.getFullYear()}${n(e.getMonth()+1)}${n(e.getDate())} ${n(e.getHours())}:${n(e.getMinutes())}`}formatBuildInfo(i){return`${i.namespace}@${i.version}: ${this.formatDate(i.timestamp)}`.replace("@mahindar5/","").replaceAll(","," ")}formatBuildInfos(i){return i?.BUILD_INFO?Object.values(i.BUILD_INFO).map(e=>this.formatBuildInfo(e)):[]}},ht=(()=>{class t{buildInfoService=new Y;globalConfig=P(null);formattedBuildInfos=ae(()=>{let e=this.globalConfig();return e?this.buildInfoService.formatBuildInfos(e):[]});constructor(){this.loadGlobalConfig()}async loadGlobalConfig(){let e=await C.getItem("globalConfig")||{BUILD_INFO:{}};this.globalConfig.set(e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=I({type:t,selectors:[["build-info"]],decls:3,vars:0,consts:[[1,"build-info"]],template:function(n,o){n&1&&($(0,"div",0),U(1,Tt,3,1,"div",null,R),H()),n&2&&(d(),F(o.formattedBuildInfos()))},styles:[".build-info[_ngcontent-%COMP%]{padding:8px 16px;text-align:right;font-size:10px}.build-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:4px}.build-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{margin-bottom:0}"],changeDetection:0})}return t})();function Ot(t,i){if(t&1&&(g(0,"ion-menu-toggle",2)(1,"ion-item",3),D(2,"ion-icon",4),g(3,"ion-label"),S(4),h()()()),t&2){let e=i.$implicit;d(),V("routerLink",e.route),d(),V("name",e.iconName),d(2),L(e.displayName)}}var kt={login:"log-in","ai-chat":"chatbubble","ai-agent":"home",settings:"settings"},bt=(()=>{class t{router=a(b);menu=P([]);ngOnInit(){this.menu.set(this.generateMenuFromRoutes())}generateMenuFromRoutes(){return this.router.config.filter(n=>n.path!==""&&!n.redirectTo&&typeof n.path=="string").map(n=>{let o=n.path.split("-").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "),s=kt[n.path]||"chevron_forward";return{displayName:o,iconName:s,route:`/${n.path}`}})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=I({type:t,selectors:[["navigation-menu"]],decls:12,vars:0,consts:[["contentId","main","type","overlay"],[1,"menu-header"],["auto-hide","false"],["routerDirection","root",3,"routerLink"],["slot","start",3,"name"]],template:function(n,o){n&1&&(g(0,"ion-menu",0)(1,"ion-header")(2,"ion-toolbar")(3,"ion-title")(4,"div",1)(5,"div"),S(6,"Menu"),h(),D(7,"build-info"),h()()()(),g(8,"ion-content")(9,"ion-list"),U(10,Ot,5,3,"ion-menu-toggle",2,R),h()()()),n&2&&(d(10),F(o.menu()))},dependencies:[Ae,Ne,ht,Oe,Be,ke,_e,Te,Ue,Se,Re,Ce],styles:[".menu-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}"]})}return t})();var vt="DarkThemeStorageKey",It=(()=>{class t{platform=a(we);routeTracker=a(ut);toastController=a(xe);modalCtrl=a(Fe);appPages=[];darkMode=!0;document=a(ne);constructor(){this.initializeApp(),this.setupBackButtonListener(),je({moon:Xe,close:ze,logOut:qe,barChart:We,chatboxEllipses:He,chatbubble:Ke,wifi:st,musicalNotes:et,list:Ye,people:tt,logoReddit:Qe,layers:Ze,gift:Ge,logoAmazon:Je,basket:Ve,bug:$e,playCircle:nt,refreshCircle:it,recording:ot,settings:rt})}ngOnInit(){}initializeApp(){this.errorHandlingAndToast(),this.toggleDarkMode(),this.platform.backButton.subscribeWithPriority(999,()=>alert("platform.backButton.subscribeWithPriority"))}async showToast(e){(await this.toastController.create({message:e,duration:3e3,buttons:[{icon:"close",role:"cancel"}]})).present()}errorHandlingAndToast(){console.defaultError=console.error.bind(console),console.errors=[],console.error=(...e)=>{this.showToast(e[1]&&e[1].message||e[0]),console.defaultError.apply(console,e),console.errors.push(Array.from(e))}}toggleDarkMode(){let e=window.matchMedia("(prefers-color-scheme: dark)"),n=localStorage.getItem(vt),o=n==null?e.matches:n==="true";this.initializeDarkPalette(o)}initializeDarkPalette(e){this.darkMode=e,this.darkChange(e)}darkChangeTr(e){this.darkChange(!!e.detail.checked)}darkChange(e){document.documentElement.classList.toggle("ion-palette-dark",e),localStorage.setItem(vt,e)}setupBackButtonListener(){window.addEventListener("popstate",async()=>{let e=await this.modalCtrl.getTop();e&&e.dismiss({dismissed:!0,from:"popstate"})})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=I({type:t,selectors:[["app-root"]],decls:4,vars:0,consts:[["when","(min-width: 4000px)","contentId","main"],["id","main"]],template:function(n,o){n&1&&(g(0,"ion-app")(1,"ion-split-pane",0),D(2,"navigation-menu")(3,"ion-router-outlet",1),h()())},dependencies:[De,Pe,Me,bt],encapsulation:2})}return t})();var q={namespace:"ng-ion-app",version:"0.0.0",commit:"b0a175467cbbd25f0e3596cc93dc0c38dc793cd4",branch:"main",lastCommitMessage:"Update repositories list in build-publish-ng-common-ion-lib workflow",lastCommitAuthor:"mahindar5",lastCommitDate:"2025-08-09 09:07:03 -0700",buildNumber:"1754755755910",buildId:"build-1754755755910",buildUrl:"",buildEnvironment:"development",buildHost:"pkrvmsl9tci6h6u",buildTarget:"development",nodeVersion:"v22.18.0",npmVersion:"10.9.3",os:"linux",arch:"x64",buildDate:"8/9/2025",buildTime:"4:09:15 PM",timestamp:"2025-08-09T16:09:15.891Z"};pe();le(It,await gt({BUILD_INFO:{myAppBUILD_INFO:q},NAMESPACE:q.namespace})).catch(t=>console.error(t));
