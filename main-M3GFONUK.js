import{a as ue,b as de,d as me,e as ge}from"./chunk-PMJ4LIVR.js";import{K as Ke,M as ze,N as Ge,O as Ze,P as Ye,Q as qe,S as Je,T as Qe,V as Xe,W as et,X as tt,Z as nt,a as Le,ea as ot,i as Be,j as je,k as We,ka as it,m as Ve,n as $e,w as He}from"./chunk-CSTODAPL.js";import{H as fe,a as $,c as ce,f as le,g as w,h as H,y as pe,z as K}from"./chunk-AOXDPQU6.js";import{K as ke,N as Ee,P as De,V as Se,W as Te,X as Oe,Z as Ae,e as se,fa as Ne,g as he,i as be,ia as _e,j as g,ja as Re,k as ve,ka as Ue,l as we,la as Pe,pa as Fe,ra as xe,u as Ie,v as ye,w as Ce,z as Me}from"./chunk-DG4AZ3SZ.js";import{$ as Q,A as B,Aa as u,Ab as x,F as h,Ja as v,P as k,Ra as te,S as b,T as q,Ub as oe,V as m,Wa as ne,Wb as ie,Y as J,Ya as W,Z as j,Zb as re,_ as s,bb as U,c as N,cb as P,db as F,eb as V,ec as ae,f as _,fa as X,fb as c,ga as ee,gb as l,hb as E,ka as R,s as M,z as f,zb as D}from"./chunk-K2KEBQBS.js";import"./chunk-UWWRSBJN.js";import"./chunk-GJA76NSQ.js";import"./chunk-SL7YA7MF.js";import"./chunk-5UTXTVDX.js";import"./chunk-K37BZDXQ.js";import"./chunk-CASY3UTO.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-JR2FMVVP.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{a as A,b as Y}from"./chunk-3GJFFWBB.js";var vt="firebase",wt="11.9.0";de(vt,wt,"app");var z="Service workers are disabled or not supported by this browser",I=class{serviceWorker;worker;registration;events;constructor(i,e){if(this.serviceWorker=i,!i)this.worker=this.events=this.registration=new N(n=>n.error(new b(5601,!1)));else{let n=null,o=new _;this.worker=new N(d=>(n!==null&&d.next(n),o.subscribe(O=>d.next(O))));let a=()=>{let{controller:d}=i;d!==null&&(n=d,o.next(n))};i.addEventListener("controllerchange",a),a(),this.registration=this.worker.pipe(k(()=>i.getRegistration()));let r=new _;this.events=r.asObservable();let p=d=>{let{data:O}=d;O?.type&&r.next(O)};i.addEventListener("message",p),e?.get(W,null,{optional:!0})?.onDestroy(()=>{i.removeEventListener("controllerchange",a),i.removeEventListener("message",p)})}}postMessage(i,e){return new Promise(n=>{this.worker.pipe(h(1)).subscribe(o=>{o.postMessage(A({action:i},e)),n()})})}postMessageWithOperation(i,e,n){let o=this.waitForOperationCompleted(n),a=this.postMessage(i,e);return Promise.all([a,o]).then(([,r])=>r)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(i){let e;return typeof i=="string"?e=n=>n.type===i:e=n=>i.includes(n.type),this.events.pipe(B(e))}nextEventOfType(i){return this.eventsOfType(i).pipe(h(1))}waitForOperationCompleted(i){return new Promise((e,n)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(B(o=>o.nonce===i),h(1),M(o=>{if(o.result!==void 0)return o.result;throw new Error(o.error)})).subscribe({next:e,error:n})})}get isEnabled(){return!!this.serviceWorker}},It=(()=>{class t{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new _;constructor(e){if(this.sw=e,!e.isEnabled){this.messages=f,this.notificationClicks=f,this.subscription=f;return}this.messages=this.sw.eventsOfType("PUSH").pipe(M(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(M(o=>o.data)),this.pushManager=this.sw.registration.pipe(M(o=>o.pushManager));let n=this.pushManager.pipe(k(o=>o.getSubscription()));this.subscription=new N(o=>{let a=n.subscribe(o),r=this.subscriptionChanges.subscribe(o);return()=>{a.unsubscribe(),r.unsubscribe()}})}requestSubscription(e){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(z));let n={userVisibleOnly:!0},o=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),a=new Uint8Array(new ArrayBuffer(o.length));for(let r=0;r<o.length;r++)a[r]=o.charCodeAt(r);return n.applicationServerKey=a,new Promise((r,p)=>{this.pushManager.pipe(k(C=>C.subscribe(n)),h(1)).subscribe({next:C=>{this.subscriptionChanges.next(C),r(C)},error:p})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(z));let e=n=>{if(n===null)throw new b(5602,!1);return n.unsubscribe().then(o=>{if(!o)throw new b(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((n,o)=>{this.subscription.pipe(h(1),k(e)).subscribe({next:n,error:o})})}decodeBase64(e){return atob(e)}static \u0275fac=function(n){return new(n||t)(j(I))};static \u0275prov=m({token:t,factory:t.\u0275fac})}return t})(),yt=(()=>{class t{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(e){if(this.sw=e,!e.isEnabled){this.versionUpdates=f,this.unrecoverable=f;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(z));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let e=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new b(5601,!1));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static \u0275fac=function(n){return new(n||t)(j(I))};static \u0275prov=m({token:t,factory:t.\u0275fac})}return t})();var at=new J("");function Ct(){let t=s(S);if(!("serviceWorker"in navigator&&t.enabled!==!1))return;let i=s(at),e=s(te),n=s(W);e.runOutsideAngular(()=>{let o=navigator.serviceWorker,a=()=>o.controller?.postMessage({action:"INITIALIZE"});o.addEventListener("controllerchange",a),n.onDestroy(()=>{o.removeEventListener("controllerchange",a)})}),e.runOutsideAngular(()=>{let o,{registrationStrategy:a}=t;if(typeof a=="function")o=new Promise(r=>a().subscribe(()=>r()));else{let[r,...p]=(a||"registerWhenStable:30000").split(":");switch(r){case"registerImmediately":o=Promise.resolve();break;case"registerWithDelay":o=rt(+p[0]||0);break;case"registerWhenStable":o=Promise.race([n.whenStable(),rt(+p[0])]);break;default:throw new b(5600,!1)}}o.then(()=>{n.destroyed||navigator.serviceWorker.register(i,{scope:t.scope}).catch(r=>console.error(q(5604,!1)))})})}function rt(t){return new Promise(i=>setTimeout(i,t))}function Mt(t,i){return new I(t.enabled!==!1?navigator.serviceWorker:void 0,i)}var S=class{enabled;scope;registrationStrategy};function st(t,i={}){return Q([It,yt,{provide:at,useValue:t},{provide:S,useValue:i},{provide:I,useFactory:Mt,deps:[S,X]},ne(Ct)])}var y=(()=>{class t{router=s(g);canActivate(e,n){return new Promise((o,a)=>{let r=ge();me(r,p=>{p?o(!0):(console.log("User is not logged in"),this.router.navigate(["/login"],{queryParams:{returnUrl:n.url}}),o(!1))})})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ct={version:"1.2.16",namespace:"@mahindar5/ng-common-lib",libVersion:"unknown",libName:"unknown",commit:"180aad30caccd07a2a2ae2e26a7c7b560859ab5d",branch:"main",lastCommitMessage:"Update stats/ng-my-app/20250803.json [skip ci]",lastCommitAuthor:"github-actions[bot]",lastCommitDate:"2025-08-03 03:46:31 +0000",buildNumber:"1754439213505",buildId:"build-1754439213505",buildUrl:"",buildEnvironment:"development",buildHost:"pkrvmjbmru5nbw0",buildTarget:"development",nodeVersion:"v22.17.1",npmVersion:"10.9.2",os:"linux",arch:"x64",timestamp:"2025-08-06T00:13:32.628Z",buildDate:"8/6/2025",buildTime:"12:13:32 AM",dependencies:{angular:"unknown",typescript:"unknown",rxjs:"unknown",materialUI:"unknown"}};var L=class{async save(i){let e=await this.getStorageKey();await H.setItem(e,i,void 0,le,!0)}async load(){let i=await this.getStorageKey();return await H.getItem(i,!0).then(e=>e||"ai-agent").catch(()=>"ai-agent")}async getStorageKey(){return`${(await w.getItem("globalConfig"))?.NAMESPACE||"default-app"}_lastRoute`}},lt=async()=>{let t=s(g),e=await $(L).load();return t.navigate([e]),!1},pt=(()=>{class t{router=s(g);routeStorage=$(L);constructor(){this.router.events.subscribe(async e=>{if(e instanceof he){let n=e.urlAfterRedirects.split("/")[1];n&&n!=="login"&&await this.routeStorage.save(n)}})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=m({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ut=[{path:"",canActivate:[lt],component:oe({})(class{}),pathMatch:"full"},{path:"login",loadComponent:()=>import("./chunk-3ORMHK4U.js").then(t=>t.LoginComponent)},{path:"ai-chat",canActivate:[y],loadComponent:()=>import("./chunk-WOLRFYLO.js").then(t=>t.AiChatComponent)},{path:"wealth-simple",canActivate:[y],loadComponent:()=>import("./chunk-C3C3GMVP.js").then(t=>t.WealthSimplePage)},{path:"spotify",canActivate:[y],loadComponent:()=>import("./chunk-ONTDAOWJ.js").then(t=>t.SpotifyPage)},{path:"ai-agent",canActivate:[y],loadComponent:()=>import("./chunk-7GKVJ53Y.js").then(t=>t.AiAgentComponent)},{path:"settings",canActivate:[y],loadComponent:()=>import("./chunk-JCFAB6IW.js").then(t=>t.SettingsComponent)},{path:"token-callback",loadComponent:()=>import("./chunk-AYTGA2C4.js").then(t=>t.TokenCallbackComponent)}],kt={version:"1.2.20",namespace:"@mahindar5/ng-common-ion-lib",libVersion:"unknown",libName:"unknown",commit:"180aad30caccd07a2a2ae2e26a7c7b560859ab5d",branch:"main",lastCommitMessage:"Update stats/ng-my-app/20250803.json [skip ci]",lastCommitAuthor:"github-actions[bot]",lastCommitDate:"2025-08-03 03:46:31 +0000",buildNumber:"1754439254508",buildId:"build-1754439254508",buildUrl:"",buildEnvironment:"development",buildHost:"pkrvmjbmru5nbw0",buildTarget:"development",nodeVersion:"v22.17.1",npmVersion:"10.9.2",os:"linux",arch:"x64",timestamp:"2025-08-06T00:14:14.494Z",buildDate:"8/6/2025",buildTime:"12:14:14 AM",dependencies:{angular:"unknown",typescript:"unknown",rxjs:"unknown",materialUI:"unknown"}};ue(pe);async function dt(t,i){i?.BUILD_INFO&&(i.BUILD_INFO=Y(A({},i.BUILD_INFO),{commonLibBUILD_INFO:fe,matBUILD_INFO:kt,ngcommonLibBUILD_INFO:ct})),await w.setItem("globalConfig",i,void 0,void 0),window.globalConfig=i;let e=[ie(),we(t),st("ngsw-worker.js",{enabled:!ae(),registrationStrategy:"registerWhenStable:30000"}),{provide:be,useClass:ye},Pe({useSetInputAPI:!0,innerHTMLTemplatesEnabled:!0})];return i?.excludeAIService||e.push({provide:K,useClass:K}),{providers:e}}async function mt(t){return await dt(ut,t)}var rn=await dt(ut,{});function Et(t,i){if(t&1&&(c(0,"div")(1,"small"),D(2),l()()),t&2){let e=i.$implicit;u(2),x(e)}}var G=class{formatDate(i){let e=new Date(i),n=o=>o.toString().padStart(2,"0");return`${e.getFullYear()}${n(e.getMonth()+1)}${n(e.getDate())} ${n(e.getHours())}:${n(e.getMinutes())}`}formatBuildInfo(i){return`${i.namespace}@${i.version}: ${this.formatDate(i.timestamp)}`.replace("@mahindar5/","").replaceAll(","," ")}formatBuildInfos(i){return i?.BUILD_INFO?Object.values(i.BUILD_INFO).map(e=>this.formatBuildInfo(e)):[]}},gt=(()=>{class t{buildInfoService=new G;globalConfig=R(null);formattedBuildInfos=re(()=>{let e=this.globalConfig();return e?this.buildInfoService.formatBuildInfos(e):[]});constructor(){this.loadGlobalConfig()}async loadGlobalConfig(){let e=await w.getItem("globalConfig")||{BUILD_INFO:{}};this.globalConfig.set(e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=v({type:t,selectors:[["build-info"]],decls:3,vars:0,consts:[[1,"build-info"]],template:function(n,o){n&1&&(c(0,"div",0),P(1,Et,3,1,"div",null,U),l()),n&2&&(u(),F(o.formattedBuildInfos()))},styles:[".build-info[_ngcontent-%COMP%]{padding:8px 16px;text-align:right;font-size:10px}.build-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:4px}.build-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{margin-bottom:0}"],changeDetection:0})}return t})();function Dt(t,i){if(t&1&&(c(0,"ion-menu-toggle",2)(1,"ion-item",3),E(2,"ion-icon",4),c(3,"ion-label"),D(4),l()()()),t&2){let e=i.$implicit;u(),V("routerLink",e.route),u(),V("name",e.iconName),u(2),x(e.displayName)}}var St={login:"log-in","ai-chat":"chatbubble","ai-agent":"home",settings:"settings"},ft=(()=>{class t{router=s(g);menu=R([]);ngOnInit(){this.menu.set(this.generateMenuFromRoutes())}generateMenuFromRoutes(){return this.router.config.filter(n=>n.path!==""&&!n.redirectTo&&typeof n.path=="string").map(n=>{let o=n.path.split("-").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "),a=St[n.path]||"chevron_forward";return{displayName:o,iconName:a,route:`/${n.path}`}})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=v({type:t,selectors:[["navigation-menu"]],decls:12,vars:0,consts:[["contentId","main","type","overlay"],[1,"menu-header"],["auto-hide","false"],["routerDirection","root",3,"routerLink"],["slot","start",3,"name"]],template:function(n,o){n&1&&(c(0,"ion-menu",0)(1,"ion-header")(2,"ion-toolbar")(3,"ion-title")(4,"div",1)(5,"div"),D(6,"Menu"),l(),E(7,"build-info"),l()()()(),c(8,"ion-content")(9,"ion-list"),P(10,Dt,5,3,"ion-menu-toggle",2,U),l()()()),n&2&&(u(10),F(o.menu()))},dependencies:[Oe,Te,gt,De,xe,Se,Ae,Ee,Re,ke,_e,ve],styles:[".menu-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}"]})}return t})();var ht="DarkThemeStorageKey",bt=(()=>{class t{platform=s(Ie);routeTracker=s(pt);toastController=s(Fe);modalCtrl=s(Ue);appPages=[];darkMode=!0;document=s(ee);constructor(){this.initializeApp(),this.setupBackButtonListener(),Le({moon:Je,close:He,logOut:Ze,barChart:Be,chatboxEllipses:Ve,chatbubble:$e,wifi:it,musicalNotes:Qe,list:Ge,people:Xe,logoReddit:qe,layers:ze,gift:Ke,logoAmazon:Ye,basket:je,bug:We,playCircle:et,refreshCircle:nt,recording:tt,settings:ot})}ngOnInit(){}initializeApp(){this.errorHandlingAndToast(),this.toggleDarkMode(),this.platform.backButton.subscribeWithPriority(999,()=>alert("platform.backButton.subscribeWithPriority"))}async showToast(e){(await this.toastController.create({message:e,duration:3e3,buttons:[{icon:"close",role:"cancel"}]})).present()}errorHandlingAndToast(){console.defaultError=console.error.bind(console),console.errors=[],console.error=(...e)=>{this.showToast(e[1]&&e[1].message||e[0]),console.defaultError.apply(console,e),console.errors.push(Array.from(e))}}toggleDarkMode(){let e=window.matchMedia("(prefers-color-scheme: dark)"),n=localStorage.getItem(ht),o=n==null?e.matches:n==="true";this.initializeDarkPalette(o)}initializeDarkPalette(e){this.darkMode=e,this.darkChange(e)}darkChangeTr(e){this.darkChange(!!e.detail.checked)}darkChange(e){document.documentElement.classList.toggle("ion-palette-dark",e),localStorage.setItem(ht,e)}setupBackButtonListener(){window.addEventListener("popstate",async()=>{let e=await this.modalCtrl.getTop();e&&e.dismiss({dismissed:!0,from:"popstate"})})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=v({type:t,selectors:[["app-root"]],decls:4,vars:0,consts:[["when","(min-width: 4000px)","contentId","main"],["id","main"]],template:function(n,o){n&1&&(c(0,"ion-app")(1,"ion-split-pane",0),E(2,"navigation-menu")(3,"ion-router-outlet",1),l()())},dependencies:[Me,Ne,Ce,ft],encapsulation:2})}return t})();var Z={version:"0.0.0",namespace:"unknown",libVersion:"unknown",libName:"unknown",commit:"185806f3fec01164ecd4123cc2e5fd4c29009c37",branch:"main",lastCommitMessage:"fix: update repository dispatch types for ng-ion-app build workflow",lastCommitAuthor:"mahindar5",lastCommitDate:"2025-08-05 17:32:50 -0700",buildNumber:"1754440410591",buildId:"build-1754440410591",buildUrl:"",buildEnvironment:"development",buildHost:"pkrvmjbmru5nbw0",buildTarget:"development",nodeVersion:"v22.17.1",npmVersion:"10.9.2",os:"linux",arch:"x64",timestamp:"2025-08-06T00:33:30.567Z",buildDate:"8/6/2025",buildTime:"12:33:30 AM",dependencies:{angular:"unknown",typescript:"unknown",rxjs:"unknown",materialUI:"unknown"}};ce();se(bt,await mt({BUILD_INFO:{myAppBUILD_INFO:Z},NAMESPACE:Z.namespace})).catch(t=>console.error(t));
